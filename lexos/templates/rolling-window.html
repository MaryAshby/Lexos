{% extends "helpers/base-template.html" %}

{% block title %}Rolling Window{% endblock %}

<!-- Head -->
{% block head %}

    <!-- Plotly -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <!-- Page Lexos dependencies -->
    <script type="text/javascript" src="static/js/helpers/graph.js"></script>
    <link rel="stylesheet" type="text/css" href="static/css/helpers/graph.css"/>


    <!-- Page JS and CSS -->
    <script type="text/javascript" src="static/js/rolling-window.js"></script>
    <link rel="stylesheet" type="text/css" href="static/css/rolling-window.css"/>
{% endblock %}


<!-- Content -->
{% block content %}

    <!-- Settings -->
    <div id="settings-section">

        <!-- Calculation type -->
        <div id="calculation-type-section" class="section">
            <h3 class="section-top title">Calculation Type</h3>
            <div class="section-body">

                <label><input name="counttype" value="average" type="radio" checked><span></span>Rolling Average</label>
                <span id="rolling-average-tooltip-button" class="tooltip-button">?</span>
                <br>

                <label><input name="counttype" value="ratio" type="radio"><span></span>Rolling Ratio</label>
                <span id="rolling-ratio-tooltip-button" class="tooltip-button">?</span>
            </div>
        </div>

        <!-- Search terms -->
        <div id="search-terms-section" class="section">

            <div class="vertical-splitter section-top">
                <h3 class="title">Search Terms</h3>
                <span id="search-terms-input-tooltip-button" class="right-justified tooltip-button">?</span><br>
            </div>


            <div class="section-body">
                <div id="search-input-grid">
                    <label id="search-terms-input"><input name="rollingsearchword" type="text" spellcheck="false" autocomplete="off" placeholder="Required"></label>
                    <label id="search-terms-input-denominator"><input name="rollingsearchwordopt" type="text" spellcheck="false" autocomplete="off" placeholder="Required"></label>
                </div>

                <label><input name="inputtype" value="word" type="radio" checked><span></span>Words</label><br>

                <label><input name="inputtype" value="string" type="radio"><span></span>Strings</label>
                <span id="strings-tooltip-button" class="tooltip-button">?</span><br>

                <label><input name="inputtype" value="regex" type="radio"><span></span>Regex</label>
                <span id="regex-tooltip-button" class="tooltip-button">?</span>
            </div>
        </div>

        <!-- Window -->
        <div id="window-section" class="section">
            <h3 class="section-top title">Window</h3>
            <div class="section-body">

                <label><input id="window-size-input" name="rollingwindowsize" type="text" spellcheck="false" autocomplete="off" placeholder="Required"></label>
                <span id="window-size-tooltip-button" class="tooltip-button">?</span><br>

                <label><input name="windowtype" value="word" type="radio" checked><span></span>Words</label><br>
                <label><input name="windowtype" value="letter" type="radio"><span></span>Characters</label><br>
                <label><input name="windowtype" value="line" type="radio"><span></span>Lines</label>
            </div>
        </div>

        <!-- Display -->
        <div id="display-section" class="section">
            <h3 class="section-top title">Display</h3>
            <div class="section-body">

                <label id="display-section-input-label">
                    <input id="milestone-checkbox" name="rollinghasmilestone" type="checkbox">
                    <span></span>Milestone<input id="milestone-input" name="rollingmilestonetype" type="text" spellcheck="false" autocomplete="off">
                </label>
                <span id="milestone-tooltip-button" class="tooltip-button">?</span>

                <label><input name="showDots" type="checkbox"><span></span>Show Individual Points</label><br>
                <label><input name="BWoutput" type="checkbox"><span></span>Black and White</label>
            </div>
        </div>
    </div>

    <!-- Rolling Window -->
    <div id="rolling-window-display-section" class="section">

        <div class="vertical-splitter section-top">
            <h3 class="title">Rolling Window</h3>
            <div id="rolling-window-buttons" class="right-justified">
                <span id="generate-button" class="disabled important-button">Generate</span>
                <span id="png-button" class="disabled button">PNG</span>
                <span id="svg-button" class="disabled button">SVG</span>
                <span id="csv-button" class="disabled button">CSV</span>
            </div>
        </div>

        <div id="graph-container" class="section-body"></div>
    </div>

    <!-- Hidden elements -->
    <input id="file-to-analyze" name="filetorollinganalyze" type="hidden">
{% endblock %}
